FROM cassandra:latest

# Modificar archivo de configuraci贸n para habilitar autenticaci贸n
RUN sed -i 's/authenticator: AllowAllAuthenticator/authenticator: PasswordAuthenticator/g' /etc/cassandra/cassandra.yaml && \
    sed -i 's/authorizer: AllowAllAuthorizer/authorizer: CassandraAuthorizer/g' /etc/cassandra/cassandra.yaml

# Copiar script de inicializaci贸n
COPY cassandra-init.sh /docker-entrypoint-initdb.d/

# Dar permisos de ejecuci贸n al script
RUN chmod +x /docker-entrypoint-initdb.d/cassandra-init.sh